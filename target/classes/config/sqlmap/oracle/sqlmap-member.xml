<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member.MemberDAO">


	<select id="login" parameterType="memberVO" resultType="memberVO">
		select id, name, password, type
		from member
		where id= #{id} and password= #{password}
	</select>
	
	<insert id="account" parameterType="hashmap">
		insert into member_bank(user_id, bank_username, bank_res_no, bank_type, bank_aim,  bank_email, bank_addr1, bank_addr2, bank_addr3, bank_phone, bank_password, bank_identi, bank_id)
		    values(#{memberVO.id},#{memberVO.name},#{bankVO.bank_res_no},'각종 금융수수료가 면제되는 급여통장','','', '','','','','','Y',111||round(dbms_random.value(10000000,99999999)) )
	
	
	
	</insert>
	<update id="accountTwo" parameterType="hashmap">

	update member_bank SET bank_email= #{bankVO.bank_email}, bank_addr1= #{bankVO.bank_addr1}, bank_addr2= #{bankVO.bank_addr2}, bank_addr3= #{bankVO.bank_addr3}, bank_password= #{bankVO.bank_password}
	 where user_id=#{memberVO.id} and bank_email is null
	</update>
</mapper>