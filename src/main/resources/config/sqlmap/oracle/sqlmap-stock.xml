<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="crawl.stock">

 	<select id="selectAll" resultType="stockmainVO">
		select *
		from stock
	</select>
	
	<select id="play01" resultType="stockmainVO">
		select to_char(stock_date,'yy/mm/dd')as stock_date, stock_code ticker,stock_name, TO_CHAR(end_p , '999,999,999,999,999')end_p , compare , TO_CHAR( stocks_totalprice , '999,999,999,999,999')stocks_totalprice
		from play_stock
		where stock_date = '21/01/05'
		and stock_name in ('삼성전자','CJ ENM','SK하이닉스','카카오','NAVER',
		                    '현대차','한국항공우주','LG화학', '삼성SDI','현대백화점',
		                    '호텔신라','이마트','하나투어','NH투자증권','하나금융지주',
		                    'KB금융','카카오게임즈','카카오뱅크','엔씨소프트', '골프존',
		                    '롯데칠성', '하이트진로', '아모레퍼시픽', 'LG생활건강','셀트리온',
		                    '삼성바이오로직스')
	</select>
	
	<update id="stockBal01" parameterType="stockmainVO">
		update member_stock set stock_bal = stock_bal- #{input_cost}
		where stock_acc='11134986715674'
	</update> 

	
	<insert id="insertInfo" parameterType="stockVO" >
		<foreach collection="list" open="DECLARE BEGIN" close="; END;" separator=";" item="menu">
			insert into stock( no, name, search_per, now_p, ntob, updown, howmany, start_p, high_p, low_p, per, roe )
				values( seq_stock_no.nextval, #{menu.name},#{menu.search_per}, #{menu.now_p}, #{menu.ntob}, #{menu.updown}, #{menu.howmany}, #{menu.start_p}, #{menu.high_p}, #{menu.low_p},
				 #{menu.per}, #{menu.roe})
		</foreach>
	</insert> 
	
	<!-- <update id="viewCnt">
		update t_board set view_cnt = view_cnt+1
		where no = #{no}
	</update> -->
	
</mapper>